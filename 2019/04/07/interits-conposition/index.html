<!DOCTYPE html><html><head><meta charset="utf-8"><title>Java / Kotlin 의 상속과 구성 (Inheritance &amp; Composition) #1 | NonBlock</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="자바의 상속과 클래스, 타입"><meta property="og:type" content="article"><meta property="og:title" content="Java &#x2F; Kotlin 의 상속과 구성 (Inheritance &amp; Composition) #1"><meta property="og:url" content="https://blog.javarouka.me/2019/04/07/interits-conposition/index.html"><meta property="og:site_name" content="NonBlock"><meta property="og:description" content="자바의 상속과 클래스, 타입"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.javarouka.me/asset/images/rrr.jpg"><meta property="article:published_time" content="2019-04-06T15:00:00.000Z"><meta property="article:modified_time" content="2020-09-22T04:18:02.876Z"><meta property="article:author" content="JavaRouka"><meta property="article:tag" content="java"><meta property="article:tag" content="kotlin"><meta property="article:tag" content="composition"><meta property="article:tag" content="type"><meta property="article:tag" content="class"><meta property="article:tag" content="delegate"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.javarouka.me/asset/images/rrr.jpg"><link rel="apple-touch-icon" sizes="57x57" href="/fav/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/fav/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/fav/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/fav/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/fav/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/fav/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/fav/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/fav/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/fav/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/fav/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png"><link rel="manifest" href="/fav/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/fav/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="java,kotlin,composition,type,class,delegate"><link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-85661914-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-85661914-1")</script><link rel="stylesheet" href="/icomoon/style.css"><link rel="stylesheet" href="/style.css"><script type="text/javascript">var __sauron=__sauron||[];__sauron.push(["pageview"]),function(){var e="https://analy1.sauroneyes.com/";__sauron.push(["setTrackerUrl",e+"analytics/"]);var a=document,r=a.createElement("script"),s=a.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.defer=!0,r.src=e+"js/sauron.js",s.parentNode.insertBefore(r,s)}()</script><meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"><link rel="alternate" href="/atom.xml" title="NonBlock" type="application/atom+xml">
</head><body><div class="site-wrapper"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>document.getElementById("loading-bar").style.width="20%"</script><header id="header" class="site-header clearfix"><a class="logo square clearfix" href="/"><span class="b">N </span><span class="b">o </span><span class="b">n </span><span class="b">B </span><span class="b">l </span><span class="w">o </span><span class="b">c </span><span class="w">k </span></a><a class="me square site-nav-switch clearfix"><span class="b"><span class="icon icon-menu"></span></span></a></header><aside class="category-wrapper"><div class="site-category"><a class="nav flex-column-link" href="/categories/effective-java/">Effective Java</a><a class="nav flex-column-link" href="/categories/review/">Review</a><a class="nav flex-column-link" href="/categories/tech/">Tech</a><a class="nav flex-column-link" href="/categories/tech/translate/">Translate</a><a class="nav flex-column-link" href="/categories/book/">book</a><a class="nav flex-column-link" href="/categories/java/">java</a><a class="nav flex-column-link" href="/categories/java/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/javascript/">javascript</a><a class="nav flex-column-link" href="/categories/javascript/react/">react</a><a class="nav flex-column-link" href="/categories/javascript/react/redux-saga/">redux-saga</a><a class="nav flex-column-link" href="/categories/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/kotlin/tech/">tech</a><a class="nav flex-column-link" href="/categories/kotlin/tech/translate/">translate</a></div><div class="search"><form name="searchform" id="searchform" class="u-search-form"><input type="text" id="searchinput" class="u-search-input st-default-search-input" data-list-highlight="true" data-list-value-completion="true" placeholder="Looking for something in this blog?"> <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit"><span class="icon icon-search"></span></button></form></div><script>document.getElementById("loading-bar").style.width="40%"</script><main id="main" class="clearfix"><article id="post-interits-conposition" class="article white-box article-type-post" itemscope itemprop="blogPost"><header class="article-header"><h1 class="article-title" itemprop="name">Java / Kotlin 의 상속과 구성 (Inheritance &amp; Composition) #1</h1><h2 class="article-sub-title">자바의 상속과 클래스, 타입</h2><div class="article-meta">Posted on <time class="article-time" datetime="2019-04-06T15:00:00.000Z" itemprop="datePublished">2019-04-07</time></div></header><div class="article-entry" itemprop="articleBody"><h1 id="자바의-상속"><a href="#자바의-상속" class="headerlink" title="자바의 상속"></a>자바의 상속</h1><p>객체지향언어에서의 상속은 객체간의 관계를 언어레벨에서 정의하는 방법이다.</p><p>상속은 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EC%8B%9C%EB%AE%AC%EB%9D%BC">Simula</a> 라는 언어의 객체지향적 부분에서 발전했다고 알려져 있다. C++ 개발자인 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EB%B9%84%EC%95%BC%EB%84%A4_%EC%8A%A4%ED%8A%B8%EB%A1%AD%EC%8A%A4%ED%8A%B8%EB%A3%B9">비야네 스트로스트롭</a>이나 Java 개발자인 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EC%A0%9C%EC%9E%84%EC%8A%A4_%EA%B3%A0%EC%8A%AC%EB%A7%81">제임스 고슬링</a>도 Simula 에서 언어 개발에 상당한 아이디어를 얻었다고.</p><p>Java 의 상속은 다음과 같은 성격을 지닌다</p><h2 id="수퍼-서브클래스"><a href="#수퍼-서브클래스" class="headerlink" title="수퍼/서브클래스"></a>수퍼/서브클래스</h2><p>어떤 클래스 B 가 다른 클래스 A 를 상속할 때 A를 수퍼클래스, B 를 서브클래스라고 한다. 간혹 수퍼타입/서브타입으로도 부르기도 하는데 다소 다른 의미다.</p><p>아래 코드에서 <code>Truck</code> 은 <code>Car</code> 의 서브클래스이기 때문에 자동차가게(CarStore) 에 <code>Truck</code> 을 둘 수 있다. 하지만 <code>Ship</code> 은 둘 수 없다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ship</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Truck</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CarStore</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;Car&gt; carList = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(Car car)</span> </span>&#123;</span><br><span class="line">        carList.add(car);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">        CarStore shop = <span class="keyword">new</span> CarStore();</span><br><span class="line">        shop.put(<span class="keyword">new</span> Car());</span><br><span class="line">        shop.put(<span class="keyword">new</span> Truck());</span><br><span class="line">        shop.put(<span class="keyword">new</span> Ship()); <span class="comment">// 컴파일 에러. 배는 차가 아니다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>상속관계인 클래스 <code>Car</code> 와 <code>Truck</code> 은 서로 각자의 타입이면서 클래스이다.</p><p>타입과 클래스는 다르다. <em>하나의 클래스는 대부분 두가지 이상의 타입으로 표현</em> 될 수 있기 때문이다.</p><h2 id="타입과-클래스"><a href="#타입과-클래스" class="headerlink" title="타입과 클래스"></a>타입과 클래스</h2><p><code>Truck</code>의 인스턴스는 <code>Truck</code> 와 <code>Car</code> 타입이 될 수 있다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Car car = <span class="keyword">new</span> Car();</span><br><span class="line">Truck truck = <span class="keyword">new</span> Truck();</span><br><span class="line">Car truckCar = truck; <span class="comment">// 가능하다.</span></span><br><span class="line">Object obj = truck; <span class="comment">// 가능하다.</span></span><br></pre></td></tr></table></figure><p>Java 의 모든 클래스는 Object 를 상속하므로, Object 타입으로도 표현할 수 있다.</p><p>게다가 제네릭 클래스는 타입 인자에 따라 수많은 타입을 만들어낼 수 있다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Object&gt; objs = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">ArrayList&lt;Car&gt; cars = <span class="keyword">new</span> ArrayList&lt;Car&gt;();</span><br><span class="line">ArrayList&lt;Truck&gt; trucks = <span class="keyword">new</span> ArrayList&lt;Truck&gt;();</span><br></pre></td></tr></table></figure><p>다음과 같이 정리할 수 있겠다.</p><ul><li>클래스는 구현 지향적이다. 내부 상태와 할 수 있는 연산이 구현되어 수행하는 자료구조에 가깝다.</li><li>타입은 선언 지향적이다. 특정 객체가 수행할 수 있는 일의 제한을 지정한다.</li></ul><p align="center"><img src="/asset/images/truck.jpg" alt="트럭"><em>아마존 트럭. 트럭이고 차이고 기계이다.</em></p><h2 id="타입-관계"><a href="#타입-관계" class="headerlink" title="타입 관계"></a>타입 관계</h2><p>서브타입은 수퍼타입의 변수에 할당할 수 있다. 서브타입은 수퍼타입의 모든 기능을 상속받았고 수퍼타입이 할 수 있는 모든 일을 할 수 있으므로, 수퍼 타입이 할 수 있는 모든 기능이 문제없이 동작가능하게 구현되어야 한다. <a href="https://blog.javarouka.me/2018/11/27/object-equals-liskov/#%EB%A6%AC%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B9%98%ED%99%98-%EB%B2%95%EC%B9%99">리스코프 치환 원칙</a> 으로도 부른다.</p><p>이러한 타입 관계에서는 <code>변성(variance)</code> 이라는 성질이 존재한다.</p><p>메서드의 인자로 전달된 객체의 상태가 변할땐 자신의 타입을 포함한 수퍼타입으로 제한되고, 특정 객체를 반환할 경우 반환형은 자신의 서브타입으로 제한된다.</p><ol><li>특정 메서드에게 걸그룹을 인자로 전달하려면 특정 메서드의 선언은 걸그룹이거나 걸그룹의 수퍼타입(가수, 사람, 동물 …)이어야 한다.</li><li>특정 메서드에서 걸그룹을 반환할 경우 그 반환값은 걸그룹이거나 걸그룹의 서브타입(트와이스, 소녀시대 …)이어야 한다.</li></ol><p>좀더 유식하게 표현하면 1번의 경우를 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://medium.com/@lazysoul/%EA%B3%B5%EB%B3%80%EA%B3%BC-%EB%B6%88%EB%B3%80-297cadba191">반공변적</a>이라고 하고 2번의 경우를 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://edykim.com/ko/post/what-is-coercion-and-anticommunism/">공변적</a>이라고 한다.</p><p align="center"><img src="/asset/peoples/twice.jpg" alt="트와이스"><em>트와이스는 걸그룹이지만 소녀시대는 아니다.</em></p><p>가요무대 클래스의 멤버 메서드가 노래를 부를 가수 타입이 필요하다면 걸그룹 인자에 대해 반공변적이라고 할 수 있다.</p><p>보이그룹이나 솔로가수도 갈 수 있다.</p><p>하지만 걸그룹 어워드 클래스 메서드에서 특정 걸그룹중 1위를 반환한다고 하면 반환시에는 트와이스나 시스타, 소녀시대만으로 제한된다.</p><p>이때는 인자에 대해 공변적이다.</p><h3 id="제네릭은-항상-서로-다르다"><a href="#제네릭은-항상-서로-다르다" class="headerlink" title="제네릭은 항상 서로 다르다"></a>제네릭은 항상 서로 다르다</h3><p>제네릭을 처음 공부할때 다소 혼란스러운 부분이 제네릭 파라미터가 수퍼/서브타입의 관계일 경우 제네릭 클래스도 수퍼/서브타입이 성립할거라는 착각이다.</p><p>다음 코드는 컴파일 오류이다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 호환되지 않는 타입. 컴파일 오류가 발생한다.</span></span><br><span class="line">ArrayList&lt;Car&gt; cars = <span class="keyword">new</span> ArrayList&lt;Truck&gt;();</span><br></pre></td></tr></table></figure><p>제네릭 타입은 다른 모든 제네릭 타입과 수퍼/서브타입이 성립하지 않는다. 제네릭 파라미터화 타입이 서로 어떤 관계이든 항상 다른 타입이다.</p><p>이것을 유식한 단어로 <code>불공변(invariant)</code> 이리고 한다.</p><h3 id="하지만-배열은-이상하다"><a href="#하지만-배열은-이상하다" class="headerlink" title="하지만 배열은 이상하다."></a>하지만 배열은 이상하다.</h3><p>배열은 위의 성질과 다르게 공변관계를 허용한다. 그래서 다음 코드는 문제가 없다</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Car[] cars = <span class="keyword">new</span> Truck[<span class="number">1</span>];</span><br></pre></td></tr></table></figure><p>문제는 위의 배열에 다음과 같은 코드를 실행할 때다. <code>ArrayStoreException</code> 이 발생하는데, 컴파일 타임이 아닌 런타임에 발생한다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ArrayStoreException</span></span><br><span class="line">cars[<span class="number">0</span>] = <span class="keyword">new</span> Taxi();</span><br></pre></td></tr></table></figure><p>배열은 제네릭과 다르게 런타임 시에도 타입이 소거되지 않고 유지하기 때문이다. 런타임 시 이 소거되지 않은 타입을 검사하며 오류를 출력한다.</p><p>배열의 이러한 공변성으로 인해 타입관련 잠재적인 런타임 오류가 발생할 수 있다. 이런 오류에 대해서는 컴파일러가 대부분은 경고를 해 주므로, 컴파일 시의 워닝 메시지를 무시하지 말자.</p><h3 id="와일드카드-변성"><a href="#와일드카드-변성" class="headerlink" title="와일드카드 변성"></a>와일드카드 변성</h3><p>Java 에서는 배열의 제네릭 파라미터일 경우 이 관계를 와일드카드와 함께 써서 <code>PECS (Producer-extends, Consumer-super)</code> 로 정의한다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 공변 제네릭 리스트</span></span><br><span class="line">List&lt;? extends GirlGroupSinger&gt; girlGroups1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이 문은 컴파일 오류이다. 이 값이 어떤 값인지 특정지을 수 없다.</span></span><br><span class="line">girlGroups1.add(<span class="keyword">new</span> Twice());</span><br><span class="line">girlGroups1.add(<span class="keyword">new</span> Sistar());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 걸그룹임이 보장된다.</span></span><br><span class="line">GirlGroupSinger some = girlGroups.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 반공변 제네릭 리스트</span></span><br><span class="line">List&lt;? <span class="keyword">super</span> GirlGroupSinger&gt; girlGroups2 = <span class="keyword">new</span> ArrayList&lt;&gt;(); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 걸그룹의 수퍼타입이면 뭐든 입력할 수 있다</span></span><br><span class="line">girlGroups1.add(<span class="keyword">new</span> People());</span><br><span class="line">girlGroups1.add(<span class="keyword">new</span> Animal());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이 문은 컴파일 오류이다. 이 타입이 무엇인지 특정지을 수 없다.</span></span><br><span class="line">GirlGroupSinger some = girlGroups.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>여기서 Producer 와 Consumer 의 주체는 제네릭 타입의 인자이다.</p><p>extends 일 경우 인자가 값을 생산 (get) 한다는 의미이며 super 일 경우 인자가 값을 소비(set) 한다는 의미이다.</p><blockquote><p>이 주제와 관련해서 좋은 StackOverflow 링크가 있다. <a target="_blank" rel="external nofollow noopener noreferrer" href="https://bit.ly/2GdGEUh">https://bit.ly/2GdGEUh</a></p></blockquote><h2 id="자동-선언"><a href="#자동-선언" class="headerlink" title="자동 선언"></a>자동 선언</h2><p>서브클래스는 수퍼클래스의 인스턴스 변수와 멤버 메서드들을 자동으로 상속한다.</p><p>상속한다는 뜻은 서브클래스에서 별도로 정의하지 않아도 정의된 것처럼 별도 선언 없이 사용할 수 있다.</p><p><em>인스턴스 변수</em>, <em>멤버 메서드</em> 라고 명시적으로 말한 건 static 으로 정의된 변수와 메서드는 제외되기 때문이다.</p><p>수퍼클래스에 대한 접근은 <code>super</code> 키워드를 사용한다.</p><p>super 키워드는 사용처에 따라 다른 대상을 가르킨다.</p><ul><li>생성자에서 사용되는 <code>super</code> 는 <em>생성자 함수</em> 를 가르킨다. 호출하는 함수 형태이다.</li><li>멤버 함수에서의 <code>super</code> 는 <em>인스턴스</em> 를 가르킨다. 부모 인스턴스를 레퍼런스하는 변수처럼 동작한다.</li></ul><h2 id="접근제어"><a href="#접근제어" class="headerlink" title="접근제어"></a>접근제어</h2><p>상속에 몇가지 제약을 걸 수 있는 접근제어자가 있다.</p><p>Java 를 처음 학습할때 접하는 <code>private</code>, <code>protected</code>, <code>public</code> 이고 별도로 정의하지 않으면 <code>default</code> 접근제어가 적용된다.</p><p>보통 좋은 프로그램 코딩 가이드에서는 제한적인 접근을 먼저 적용하고 필요에 따라 넓혀가라고 조언된다. <code>private</code> 으로 전부 선언한 뒤, 필요에 따라 <code>protected</code> 혹은 <code>public</code> 으로 넓혀가는게 좋다.</p><p>애매한 건 <code>default</code> 접근 제어인데 이 케이스는 일반적인 케이스의 경우 잘 사용되지 않지만, 구현체를 직접적으로 사용하지 못하게 할때 유용하게 쓸 수 있다.</p><p>만일 같은 패키지에 <code>UserInputController</code> 클래스와 <code>UserInputController</code> 을 상속한 <code>Mouse</code> 클래스, <code>Keyboard</code> 클래스가 있다고 할 때 타 패키지에서는 <code>UserInputController</code> 으로만 추상적으로 접근하게 하고 싶다면 다음과 같이 구현하면 된다.</p><p>구현 클래스에는 public 접근제어 없이 default 로 선언했다</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @file UserInputController.java</span></span><br><span class="line"><span class="keyword">package</span> me.javarouka.input;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserInputController</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @file Mouse.java</span></span><br><span class="line"><span class="keyword">package</span> me.javarouka.input;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> <span class="keyword">implements</span> <span class="title">UserInputController</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @file Keyboard.java</span></span><br><span class="line"><span class="keyword">package</span> me.javarouka.input;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Keyboard</span> <span class="keyword">implements</span> <span class="title">UserInputController</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>외부에서는 클래스를 생성하지 못한다.</p><p><em>private 생성자</em> 로도 이런 방법을 쓸 수 있지만, DI 프레임워크(Spring Framework 가 대중적이다.) 등을 쓰고 있다면 이 방법이 유용할 것이다.</p><p>DI 프레임워크 등이 없다면 팩토리 클래스 같은 생성 헬퍼를 만들어줘야 할 것이다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.javarouka.input;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserInputControllers</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserInputController <span class="title">createMouse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Mouse();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserInputController <span class="title">createKeyboard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Keyboard();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>실제 구현 클래스의 노출 없이 구현 클래스 타입을 제공하여 불필요한 정보 공개를 하지 않고 안전성을 높일 수 있다.</p><h1 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h1><p>다음 포스트에서는 상속의 단점과 구성에 대해 알아보겠다. 그리고 코틀린에서 이런 상속 관계들을 어떻게 처리하는지 알아본다</p></div><div class="article-tags"><a class="tag-none-link" href="/tags/class/" rel="tag">class</a><a class="tag-none-link" href="/tags/composition/" rel="tag">composition</a><a class="tag-none-link" href="/tags/delegate/" rel="tag">delegate</a><a class="tag-none-link" href="/tags/java/" rel="tag">java</a><a class="tag-none-link" href="/tags/kotlin/" rel="tag">kotlin</a><a class="tag-none-link" href="/tags/type/" rel="tag">type</a></div><section id="comments" class="white-box"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></article><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5bf3f68d0a53e4d6"></script><script>document.getElementById("loading-bar").style.width="60%"</script></main><footer id="footer" class="clearfix"><div>&copy; <a href="https://blog.javarouka.me">NonBlock</a> Theme by <a href="http://artifact.me/" target="_blank" rel="external nofollow noopener noreferrer">Art Chen</a>.</div><div>Powered by <a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer">Hexo</a>.</div></footer><script>document.getElementById("loading-bar").style.width="80%"</script><div class="overlay"></div></aside></div><div class="site-sidebar"><div class="sidebar-switch clearfix show" style="display:block"><a class="dark-btn active" data-toggle="toc"><span class="icon icon-list"></span> <span class="text">Index</span> </a><a class="dark-btn" data-toggle="bio"><span class="icon icon-person"></span> <span class="text">Bio</span></a></div><div class="site-bio" style="display:none"><div class="about-me clearfix"><div class="avatar"><img src="https://avatars2.githubusercontent.com/u/1438503?v=4&s=250"></div><div class="info"><a class="name dark-btn" href="/about">JavaRouka</a></div><div class="info"><span class="item desc">javarouka 의 기술블로그</span></div></div><div class="social clearfix"><a href="/atom.xml" class="feed" target="_blank" rel="external"><span class="icon icon-feed"></span> </a><a href="mailto:javarouka@gmail.com" class="mail" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-mail"></span> </a><a href="https://github.com/javarouka" class="github" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-github"></span> </a><a href="https://www.facebook.com/hanghui.i" class="facebook" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-facebook"></span></a></div><div class="shortcuts clearfix"><div class="bk"><a href="#header" class="dark-btn window-nav"><span class="icon icon-chevron-thin-up"></span> <span class="text">Back to Top</span></a></div><div class="bk"><a href="#footer" class="dark-btn window-nav"><span class="icon icon-chevron-thin-down"></span> <span class="text">Go to Bottom</span></a></div></div></div><div class="site-post-nav show" style="display:block"><div class="site-post-nav-box"><a href="/2019/08/09/translate-kotlin-coroutine-basic/" class="icon icon-chevron-thin-left"><a href="/2019/08/09/translate-kotlin-coroutine-basic/" class="site-post-nav-text">[번역] Kotline Coroutine Basic</a></a></div><div class="site-post-nav-box"><a href="/2019/04/07/book-elasticsearch-in-action/" class="site-post-nav-text">[책] Elasticsearch In Action</a> <a href="/2019/04/07/book-elasticsearch-in-action/" class="icon icon-chevron-thin-right"></a></div></div><div class="site-toc show" style="display:block"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%9E%90%EB%B0%94%EC%9D%98-%EC%83%81%EC%86%8D"><span class="toc-number">1.</span> <span class="toc-text">자바의 상속</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%88%98%ED%8D%BC-%EC%84%9C%EB%B8%8C%ED%81%B4%EB%9E%98%EC%8A%A4"><span class="toc-number">1.1.</span> <span class="toc-text">수퍼&#x2F;서브클래스</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%83%80%EC%9E%85%EA%B3%BC-%ED%81%B4%EB%9E%98%EC%8A%A4"><span class="toc-number">1.2.</span> <span class="toc-text">타입과 클래스</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%83%80%EC%9E%85-%EA%B4%80%EA%B3%84"><span class="toc-number">1.3.</span> <span class="toc-text">타입 관계</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%A0%9C%EB%84%A4%EB%A6%AD%EC%9D%80-%ED%95%AD%EC%83%81-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B4%EB%8B%A4"><span class="toc-number">1.3.1.</span> <span class="toc-text">제네릭은 항상 서로 다르다</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%ED%95%98%EC%A7%80%EB%A7%8C-%EB%B0%B0%EC%97%B4%EC%9D%80-%EC%9D%B4%EC%83%81%ED%95%98%EB%8B%A4"><span class="toc-number">1.3.2.</span> <span class="toc-text">하지만 배열은 이상하다.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C-%EB%B3%80%EC%84%B1"><span class="toc-number">1.3.3.</span> <span class="toc-text">와일드카드 변성</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%9E%90%EB%8F%99-%EC%84%A0%EC%96%B8"><span class="toc-number">1.4.</span> <span class="toc-text">자동 선언</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%A0%91%EA%B7%BC%EC%A0%9C%EC%96%B4"><span class="toc-number">1.5.</span> <span class="toc-text">접근제어</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%EA%B2%B0%EB%A1%A0"><span class="toc-number">2.</span> <span class="toc-text">결론</span></a></li></ol></div></div><script type="text/javascript">var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo"</script><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.js"><\/script>')</script><script src="/js/search.js"></script><script src="/js/app.js"></script><script type="text/javascript">var disqus_shortname="https-javarouka-github-io",disqus_url="https://blog.javarouka.me/2019/04/07/interits-conposition/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script>document.getElementById("loading-bar").style.width="100%"</script></body></html>