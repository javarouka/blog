<!DOCTYPE html><html><head><meta charset="utf-8"><title>비동기와 Promise #3 | NonBlock</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="JavaScript 의 비동기와 Promise 에 대해 알아보자"><meta property="og:type" content="article"><meta property="og:title" content="비동기와 Promise #3"><meta property="og:url" content="https://blog.javarouka.me/2016/11/12/javascript-async-promise-3/index.html"><meta property="og:site_name" content="NonBlock"><meta property="og:description" content="JavaScript 의 비동기와 Promise 에 대해 알아보자"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.javarouka.me/asset/images/js.jpg"><meta property="article:published_time" content="2016-11-11T15:00:00.000Z"><meta property="article:modified_time" content="2020-09-22T04:18:02.866Z"><meta property="article:author" content="JavaRouka"><meta property="article:tag" content="javascript"><meta property="article:tag" content="ecmascript"><meta property="article:tag" content="promise"><meta property="article:tag" content="async"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.javarouka.me/asset/images/js.jpg"><link rel="apple-touch-icon" sizes="57x57" href="/fav/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/fav/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/fav/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/fav/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/fav/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/fav/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/fav/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/fav/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/fav/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/fav/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png"><link rel="manifest" href="/fav/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/fav/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="javascript,ecmascript,promise,async"><link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-85661914-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-85661914-1")</script><link rel="stylesheet" href="/icomoon/style.css"><link rel="stylesheet" href="/style.css"><script type="text/javascript">var __sauron=__sauron||[];__sauron.push(["pageview"]),function(){var e="https://analy1.sauroneyes.com/";__sauron.push(["setTrackerUrl",e+"analytics/"]);var a=document,r=a.createElement("script"),s=a.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.defer=!0,r.src=e+"js/sauron.js",s.parentNode.insertBefore(r,s)}()</script><meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"><link rel="alternate" href="/atom.xml" title="NonBlock" type="application/atom+xml">
</head><body><div class="site-wrapper"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>document.getElementById("loading-bar").style.width="20%"</script><header id="header" class="site-header clearfix"><a class="logo square clearfix" href="/"><span class="b">N </span><span class="w">o </span><span class="b">n </span><span class="b">B </span><span class="b">l </span><span class="w">o </span><span class="b">c </span><span class="w">k </span></a><a class="me square site-nav-switch clearfix"><span class="b"><span class="icon icon-menu"></span></span></a></header><aside class="category-wrapper"><div class="site-category"><a class="nav flex-column-link" href="/categories/effective-java/">Effective Java</a><a class="nav flex-column-link" href="/categories/review/">Review</a><a class="nav flex-column-link" href="/categories/tech/">Tech</a><a class="nav flex-column-link" href="/categories/tech/translate/">Translate</a><a class="nav flex-column-link" href="/categories/book/">book</a><a class="nav flex-column-link" href="/categories/java/">java</a><a class="nav flex-column-link" href="/categories/java/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/javascript/">javascript</a><a class="nav flex-column-link" href="/categories/javascript/react/">react</a><a class="nav flex-column-link" href="/categories/javascript/react/redux-saga/">redux-saga</a><a class="nav flex-column-link" href="/categories/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/kotlin/tech/">tech</a><a class="nav flex-column-link" href="/categories/kotlin/tech/translate/">translate</a></div><div class="search"><form name="searchform" id="searchform" class="u-search-form"><input type="text" id="searchinput" class="u-search-input st-default-search-input" data-list-highlight="true" data-list-value-completion="true" placeholder="Looking for something in this blog?"> <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit"><span class="icon icon-search"></span></button></form></div><script>document.getElementById("loading-bar").style.width="40%"</script><main id="main" class="clearfix"><article id="post-javascript-async-promise-3" class="article white-box article-type-post" itemscope itemprop="blogPost"><header class="article-header"><h1 class="article-title" itemprop="name">비동기와 Promise #3</h1><h2 class="article-sub-title">JavaScript 의 비동기와 Promise 에 대해 알아보자</h2><div class="article-meta">Posted on <time class="article-time" datetime="2016-11-11T15:00:00.000Z" itemprop="datePublished">2016-11-12</time></div></header><div class="article-entry" itemprop="articleBody"><p><a href="/2016/11/09/javascript-async-promise-2/">전 포스트</a> 에 이은 글이다.</p><blockquote><p>이 포스트의 예제 코드는 ES6 으로 작성되었습니다.</p></blockquote><h2 id="뒤돌아보기"><a href="#뒤돌아보기" class="headerlink" title="뒤돌아보기"></a>뒤돌아보기</h2><p>전 포스트들에서 비동기의 대략적 흐름과 Promise 의 기본 동작에 대해 다루다가 잠깐 언급한 내용이 있다. Timer 와 Promise 를 비교하면서 Timer 함수보다 Promise 가 더 우선권이 있다고 했었다.</p><p>실제로 Promise 다른 javascript 일반적인 비동기 수행보다 앞선 비동기적 우선권을 가진다. 이것에 대해 이해하려면 HTML Living Standard 에 새로 추가된 Micro Task 에 대해 좀 더 알 필요가 있다.</p><p><code>Task</code> 와 <code>MicroTask</code> 에 대해 자세히 알아보자</p><h2 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h2><p>Event Loop 는 하나 혹은 그 이상의 Task Queue 라는 부르는 Task 가 순서대로 정렬된 List 를 가진다.</p><p>Task 는 다음과 같은 여러 작업들의 모음이다.</p><ul><li>스크립트 실행</li><li>이벤트</li><li>HTML 파싱</li><li>콜백</li><li>Fetch, Ajax</li><li>DOM 조작</li></ul><p>javascript 를 실행하는 것도 태스크, HTML 파싱, Timer, DOM 조작 등이 전부 Task 이다.</p><p>javascript 가 코드 블럭을 수행하면 call stack 에 함수 호출을 쌓으며 실행해나가는 Task 를 수행하고, 도중 Ajax, DOM 조작을 만나면 Task Queue 에 넣고 계속 루프 작업을 진행하게 된다. 타이머를 만나면 바로 Task Queue 에 추가되지 않고 지정된 시간 후 Task Queue 에 추가된다.</p><p>삽입된 Task 는 다음 Event Loop, 혹은 지정된 시간, 이벤트 트리거에 의해 다시 수행된다.</p><p><a href="/2016/11/08/javascript-async-promise-1/">비동기와 Promise #1</a> 에서 다뤘듯 특별할게 없는 동작이다.</p><h2 id="Micro-Task"><a href="#Micro-Task" class="headerlink" title="Micro Task"></a>Micro Task</h2><p>Micro Task 는 새로운 Task 로서 기존의 Task 에 영향을 받지 않고 Async 로 빠르게 수행되는 Task 들이다.</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.outsider.ne.kr/739">process.nextTick</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/observe">Object.observe</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://developer.mozilla.org/ko/docs/Web/API/MutationObserver">MutationObserver</a></li></ul><p>Micro Task 는 현재 실행중인 Task 의 실행이 종료된 뒤 바로 다음에 일어날 일들이 쌓이는 곳이다.</p><p>일반적인 구현으로는 각 Task 가 끝나거나, Event Loop 의 시작과 끝에서 체크된다. 이 작업을 표준 문서에서는 Micro Task checkpoint 라고 정의하고 있다.</p><p>Task 의 종료와 루프의 시작과 끝에서 수행되기에 일반적인 Task 의 실행이 다음 루프에서 처리되는 것보다 우선권이 있다.</p><p>HTML 스펙의 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint">Micro Task checkpoint - perform a microtask checkpoint</a> 의 설명을 대략 요약하면 다음과 같다.</p><p>중간에 여러 개념들이 등장하지만, Micro Task 에 초점을 맞춰 요약해보면 다음과 같은 흐름이다.</p><ol><li><code>Micro Task checkpoint</code> 수행</li><li>핸들링 : 이벤트 루프의 Micro Task 큐가 비어 있으면 완료 단계로</li><li>Event Loop 의 Micro Task 큐 대기열에서 가장 오래된 Micro Task 를 선택</li><li>Event Loop 의 현재 실행중인 작업 을 3번 단계에서 선택한 작업으로 설정</li><li>실행 : 선택한 Task 를 실행.</li><li>Event Loop 의 현재 실행중인 작업을 null 로 설정</li><li>위의 단계에서 실행 된 Micro Task 를 큐에서 제거하고 Micro Task 큐 처리 단계 (2번 단계) 로</li><li>완료 : <code>Micro Task checkpoint</code> 완료</li></ol><p>아래는 위의 흐름을 개념적 코드로 표현해보았다. (실제 구현이 이렇다는건 절대 아니다)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">performMicroTaskCheckPoint</span>(<span class="params">eventLoop</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 재진입성(reentrant invocation) 방지를 위한 플래그 프로퍼티</span></span><br><span class="line">    <span class="comment">// http://sunyzero.tistory.com/97    </span></span><br><span class="line">    <span class="keyword">while</span>(eventLoop.microCheckPointFlag) &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span>(eventLoop.microTaskQueue.length &lt; <span class="number">1</span>) &#123; <span class="comment">// 2</span></span><br><span class="line">            eventLoop.microCheckPointFlag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">const</span> microTask = eventLoop.microTaskQueue.shift(); <span class="comment">// 3</span></span><br><span class="line">        </span><br><span class="line">        eventLoop.setCurrentRunngingTask(microTask); <span class="comment">// 4</span></span><br><span class="line">        eventLoop.executeCurrentTask(); <span class="comment">// 5</span></span><br><span class="line">        eventLoop.setCurrentRunngingTask(<span class="literal">null</span>); <span class="comment">// 6</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>여기서 알 수 있는건 Micro Task 큐가 비어있지 않다면 Task 가 비어있을 때까지 무한히 핸들링 -&gt; 실행 단계를 반복하도록 되어 있다는 점이다.</p><p>만일 Micro Task 에서 다른 MicroTask 를 등록하는 작업을 반복하면 다음의 이벤트 루프는 수행되지 못할 수도 있다는 뜻이다.</p><h3 id="Micro-Task-과다-중첩-예제"><a href="#Micro-Task-과다-중첩-예제" class="headerlink" title="Micro Task 과다 중첩 예제"></a>Micro Task 과다 중첩 예제</h3><p>테스트 코드로 알아보자. 사용할 Micro Task 는 이 시리즈에서 한창 다루는 Promise 를 사용한 예제이다.</p><p>먼저 사용할 함수 두개를 만들자</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise 를 받아 상태값에 1을 증가시키고,</span></span><br><span class="line"><span class="comment">// resolved Promise 를 반환하는 함수</span></span><br><span class="line"><span class="keyword">const</span> doIncrementChain = <span class="function"><span class="params">promise</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> promise.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;Promise value&#x27;</span>, val);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(++val)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 제일 빠르게 수행되는 Timer 를 예약하는 함수</span></span><br><span class="line"><span class="keyword">const</span> putImmidiateTimer = <span class="function"><span class="params">fn</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(fn, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>위 두 함수를 사용해서 예제 코드는 다음과 같다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Timer 를 예약한다.</span></span><br><span class="line">putImmidiateTimer(<span class="function"><span class="params">_</span>=&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;I am Timer!&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise 생성</span></span><br><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.group(<span class="string">&#x27;promise start~&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> resolve(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// loopCount 만큼 순회하며 Promise 를 연결한다.</span></span><br><span class="line"><span class="keyword">let</span> loopCount = <span class="number">100000</span>;</span><br><span class="line"><span class="keyword">while</span>(loopCount--) promise = doIncrementChain(promise);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 완료되면 완료로깅을 출력하는 Promise를 연결한다.</span></span><br><span class="line">promise.then(<span class="function"><span class="params">_</span>=&gt;</span> <span class="built_in">console</span>.groupEnd(<span class="string">&#x27;promise executed!&#x27;</span>));</span><br></pre></td></tr></table></figure><p>이 코드는 위의 스펙대로 모든 Promise 가 추가한 MicroTask 를 전부 소비하고 난 뒤에야 타이머 작업이 시작된다.</p><p>혹 사양이 낮은 PC나 환경에 따라서는 PC가 멈추거나 오류를 낼 수 있다.(NodeJS 의 경우 아마 1000 번의 Micro Task 큐 작업이 한계라고 알고 있다)</p><p>이 블로그를 작성중인 작업 컴퓨터의 사양이 좀 낮은 관계로 10번만 수행시켰다. (Chrome 브라우저 콘솔)</p><p><img src="/images/promise/P_T.png" alt="10번 수행 결과. Timer 가 Micro Task 에 밀려 제일 늦게 수행된다"></p><p>실행 결과를 보았듯이 Timer 작업은 앞선 Micro Task 인 Promise 에 밀려 제일 나중에 실행된다.</p><p>루프 카운트를 10000 으로 늘려도 결과는 같다.(다만 과하게 늘릴 경우 수행이 늦어지거나 엔진 다운이 있을 수 있다.)</p><h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>비동기 및 Promise 포스팅이 이걸로 끝났다.</p><p>비동기에 대해서는 여기 써놓은 내용 이상으로 다룰 내용이 너무 깊고 많다. 노오력이 부족한 관계로 새로운 사실을 알게 될 때마다 포스트를 수정해나갈 생각이다.</p><h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul><li><a href="/2016/11/08/javascript-async-promise-1/">비동기와 Promise 1</a></li><li><a href="/2016/11/09/javascript-async-promise-2/">비동기와 Promise 2</a></li><li><a href="/2016/11/12/javascript-async-promise-3/">비동기와 Promise 3</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://sunyzero.tistory.com/97">C언어:reentrant (재진입성) 함수와 쓰레드안전(MultiThread-safe)</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.bsidesoft.com/?p=399">BsideSoft 공식 블로그 # 동기화 vs 비동기화 1</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.bsidesoft.com/?p=414">BsideSoft 공식 블로그 # 동기화 vs 비동기화 2</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.bsidesoft.com/?p=423">BsideSoft 공식 블로그 # 동기화 vs 비동기화 3</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/nhnent/fe.javascript/wiki/June-13-June-17,-2016">NHN Enter # 자바스크립트와 이벤트 루프</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.2ality.com/2014/09/es6-promises-foundations.html">2ality # ECMAScript 6 promises - foundations</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules">jakearchibald’s blog # Tasks, microtasks, queues and schedules</a></li></ul></div><div class="article-tags"><a class="tag-none-link" href="/tags/async/" rel="tag">async</a><a class="tag-none-link" href="/tags/ecmascript/" rel="tag">ecmascript</a><a class="tag-none-link" href="/tags/javascript/" rel="tag">javascript</a><a class="tag-none-link" href="/tags/promise/" rel="tag">promise</a></div><section id="comments" class="white-box"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></article><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5bf3f68d0a53e4d6"></script><script>document.getElementById("loading-bar").style.width="60%"</script></main><footer id="footer" class="clearfix"><div>&copy; <a href="https://blog.javarouka.me">NonBlock</a> Theme by <a href="http://artifact.me/" target="_blank" rel="external nofollow noopener noreferrer">Art Chen</a>.</div><div>Powered by <a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer">Hexo</a>.</div></footer><script>document.getElementById("loading-bar").style.width="80%"</script><div class="overlay"></div></aside></div><div class="site-sidebar"><div class="sidebar-switch clearfix show" style="display:block"><a class="dark-btn active" data-toggle="toc"><span class="icon icon-list"></span> <span class="text">Index</span> </a><a class="dark-btn" data-toggle="bio"><span class="icon icon-person"></span> <span class="text">Bio</span></a></div><div class="site-bio" style="display:none"><div class="about-me clearfix"><div class="avatar"><img src="https://avatars2.githubusercontent.com/u/1438503?v=4&s=250"></div><div class="info"><a class="name dark-btn" href="/about">JavaRouka</a></div><div class="info"><span class="item desc">javarouka 의 기술블로그</span></div></div><div class="social clearfix"><a href="/atom.xml" class="feed" target="_blank" rel="external"><span class="icon icon-feed"></span> </a><a href="mailto:javarouka@gmail.com" class="mail" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-mail"></span> </a><a href="https://github.com/javarouka" class="github" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-github"></span> </a><a href="https://www.facebook.com/hanghui.i" class="facebook" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-facebook"></span></a></div><div class="shortcuts clearfix"><div class="bk"><a href="#header" class="dark-btn window-nav"><span class="icon icon-chevron-thin-up"></span> <span class="text">Back to Top</span></a></div><div class="bk"><a href="#footer" class="dark-btn window-nav"><span class="icon icon-chevron-thin-down"></span> <span class="text">Go to Bottom</span></a></div></div></div><div class="site-post-nav show" style="display:block"><div class="site-post-nav-box"><a href="/2017/03/18/YouMightNotNeedRedux/" class="icon icon-chevron-thin-left"><a href="/2017/03/18/YouMightNotNeedRedux/" class="site-post-nav-text">넌 Redux 가 필요 없을지도 몰라</a></a></div><div class="site-post-nav-box"><a href="/2016/11/09/javascript-async-promise-2/" class="site-post-nav-text">비동기와 Promise #2</a> <a href="/2016/11/09/javascript-async-promise-2/" class="icon icon-chevron-thin-right"></a></div></div><div class="site-toc show" style="display:block"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%92%A4%EB%8F%8C%EC%95%84%EB%B3%B4%EA%B8%B0"><span class="toc-number">1.</span> <span class="toc-text">뒤돌아보기</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Task"><span class="toc-number">2.</span> <span class="toc-text">Task</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Micro-Task"><span class="toc-number">3.</span> <span class="toc-text">Micro Task</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Micro-Task-%EA%B3%BC%EB%8B%A4-%EC%A4%91%EC%B2%A9-%EC%98%88%EC%A0%9C"><span class="toc-number">3.1.</span> <span class="toc-text">Micro Task 과다 중첩 예제</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B2%B0%EB%A1%A0"><span class="toc-number">4.</span> <span class="toc-text">결론</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0"><span class="toc-number">5.</span> <span class="toc-text">참고</span></a></li></ol></div></div><script type="text/javascript">var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo"</script><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.js"><\/script>')</script><script src="/js/search.js"></script><script src="/js/app.js"></script><script type="text/javascript">var disqus_shortname="https-javarouka-github-io",disqus_url="https://blog.javarouka.me/2016/11/12/javascript-async-promise-3/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script>document.getElementById("loading-bar").style.width="100%"</script></body></html>