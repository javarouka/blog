<!DOCTYPE html><html><head><meta charset="utf-8"><title>운영되던 서비스, ES5 에서 ES6 으로 옮긴 이야기 1 | NonBlock</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="개고생과 노가다, 그리고 고독"><meta property="og:type" content="article"><meta property="og:title" content="운영되던 서비스, ES5 에서 ES6 으로 옮긴 이야기 1"><meta property="og:url" content="https://blog.javarouka.me/2017/05/03/convert-legacy-to-webpack-bundle-1/index.html"><meta property="og:site_name" content="NonBlock"><meta property="og:description" content="개고생과 노가다, 그리고 고독"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.javarouka.me/images/react.png"><meta property="article:published_time" content="2017-05-03T14:30:17.000Z"><meta property="article:modified_time" content="2020-09-22T04:18:02.869Z"><meta property="article:author" content="JavaRouka"><meta property="article:tag" content="javascript"><meta property="article:tag" content="Handlebars"><meta property="article:tag" content="webpack"><meta property="article:tag" content="개고생"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.javarouka.me/images/react.png"><link rel="apple-touch-icon" sizes="57x57" href="/fav/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/fav/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/fav/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/fav/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/fav/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/fav/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/fav/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/fav/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/fav/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/fav/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png"><link rel="manifest" href="/fav/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/fav/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="javascript,Handlebars,webpack,개고생"><link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-85661914-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-85661914-1")</script><link rel="stylesheet" href="/icomoon/style.css"><link rel="stylesheet" href="/style.css"><script type="text/javascript">var __sauron=__sauron||[];__sauron.push(["pageview"]),function(){var e="https://analy1.sauroneyes.com/";__sauron.push(["setTrackerUrl",e+"analytics/"]);var a=document,r=a.createElement("script"),s=a.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.defer=!0,r.src=e+"js/sauron.js",s.parentNode.insertBefore(r,s)}()</script><meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"><link rel="alternate" href="/atom.xml" title="NonBlock" type="application/atom+xml">
</head><body><div class="site-wrapper"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>document.getElementById("loading-bar").style.width="20%"</script><header id="header" class="site-header clearfix"><a class="logo square clearfix" href="/"><span class="b">N </span><span class="b">o </span><span class="b">n </span><span class="w">B </span><span class="b">l </span><span class="w">o </span><span class="b">c </span><span class="b">k </span></a><a class="me square site-nav-switch clearfix"><span class="b"><span class="icon icon-menu"></span></span></a></header><aside class="category-wrapper"><div class="site-category"><a class="nav flex-column-link" href="/categories/effective-java/">Effective Java</a><a class="nav flex-column-link" href="/categories/review/">Review</a><a class="nav flex-column-link" href="/categories/tech/">Tech</a><a class="nav flex-column-link" href="/categories/tech/translate/">Translate</a><a class="nav flex-column-link" href="/categories/book/">book</a><a class="nav flex-column-link" href="/categories/java/">java</a><a class="nav flex-column-link" href="/categories/java/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/javascript/">javascript</a><a class="nav flex-column-link" href="/categories/javascript/react/">react</a><a class="nav flex-column-link" href="/categories/javascript/react/redux-saga/">redux-saga</a><a class="nav flex-column-link" href="/categories/kotlin/">kotlin</a><a class="nav flex-column-link" href="/categories/kotlin/tech/">tech</a><a class="nav flex-column-link" href="/categories/kotlin/tech/translate/">translate</a></div><div class="search"><form name="searchform" id="searchform" class="u-search-form"><input type="text" id="searchinput" class="u-search-input st-default-search-input" data-list-highlight="true" data-list-value-completion="true" placeholder="Looking for something in this blog?"> <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit"><span class="icon icon-search"></span></button></form></div><script>document.getElementById("loading-bar").style.width="40%"</script><main id="main" class="clearfix"><article id="post-convert-legacy-to-webpack-bundle-1" class="article white-box article-type-post" itemscope itemprop="blogPost"><header class="article-header"><h1 class="article-title" itemprop="name">운영되던 서비스, ES5 에서 ES6 으로 옮긴 이야기 1</h1><h2 class="article-sub-title">개고생과 노가다, 그리고 고독</h2><div class="article-meta">Posted on <time class="article-time" datetime="2017-05-03T14:30:17.000Z" itemprop="datePublished">2017-05-03</time></div></header><div class="article-entry" itemprop="articleBody"><blockquote><p>2016년 5월부터 2016년 6월까지 진행된 나의 to ES6 삽질을 기록해본다. 100% Real 은 아니고… 95% 정도?</p></blockquote><h2 id="프로젝트의-안정화-마무리-즈음의-위험한-만남"><a href="#프로젝트의-안정화-마무리-즈음의-위험한-만남" class="headerlink" title="프로젝트의 안정화 마무리 즈음의 위험한 만남"></a>프로젝트의 안정화 마무리 즈음의 위험한 만남</h2><p>회사에 입사한 뒤로 내가 주로 한 일은 통으로 되어있던 프로젝트에서 내가 소속된 팀의 기능만 빼서 별도의 프로젝트로 분리하는 일이었다.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://microservices.io/">MSA</a> 로의 이전을 위해 한창 전사가 달리던 때다.</p><p>내가 속해있던 팀은 기존의 Spring + MyBatis 에서 Spring + JPA 를 적용하여 새로 프로젝트를 구성하였고 개발은 그럭저럭 마무리가 코 앞으로 다가왔다.</p><p>이때 쯤 신기술이 유행하고 있었는데 ~</p><blockquote><p>ECMAScript, React</p></blockquote><p>React 라는 녀석과 함께 ES6 의 유혹은 매우 강렬했다.</p><p>개발자들의 일종의허세끼인 “신기술이면 우왕 굿” 하는 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://lazygyu.net/blog/hype_driven_development">설레발 주도 개발</a>에 푹 빠진 것도 있었고, 현재 팀 내에서 사용하고 있는 기술이 낙후되었다는 생각을 해오던 터라, 써보고 싶은 마음이 요동쳤다.</p><p>사실 난 이 전까지는 JavaScript 의 Source to Source Compile 에 대한 거부감이 상당했고 그동안 별 불편함을 느끼지 못해 그냥 무시해왔지만, 한번 맛을 들이고 나니 이놈들은 끊을 수 없는 콜라같은 마력을 뿜어냈다</p><p>선행 학습을 며칠간 진행하고 관련 스터디와 예제 코드를 몇번 직접 작성해 보고 더욱 그런 느낌이 들었다.</p><p>이건 바로 적용해야돼!!</p><h2 id="기존-구조는-AMD-Handlebars"><a href="#기존-구조는-AMD-Handlebars" class="headerlink" title="기존 구조는 AMD + Handlebars"></a>기존 구조는 AMD + Handlebars</h2><p>하지만 기존에 완성되어 가던 프로젝트는 프로젝트 초기에 열심히 나름대로 세팅한 AMD 기반으로 동적으로 서버에서 Handlebars 컴파일 된 HTML 을 로드하고 그것을 화면에 innerHTML 등으로 붙여넣어 처리하는 구조였다.</p><p>동적으로 컨텐트와 그에 맞는 스크립트를 로딩하는 간단한 프레임워크였는데, 간간히 발생하는 모듈 Timeout 만 아니면 나름 잘 동작했다.</p><p>뭐 요약하면, Rouka Framework 0.0.1 정도 되려나.</p><p>간단히 소개하면 이런 구조다.</p><ol><li>hash url 기반의 SPA 다</li><li>컨텐츠가 요청되면 서버에서는 server side의 handlebars 를 사용하여 완성된 html을 응답한다.</li><li>그 응답 html 의 루트 엘리먼트에는 data-controller 라는 속성이 optional 로 있다.</li><li>그 속성은 실제 js 파일의 경로이며 require(경로) 를 통해 실제 그 컨텐츠가 사용할 Controller.js 를 동적 로딩한다</li><li>그 컨트롤러 파일은 로딩된 컨텐츠의 엘리먼트 레퍼런스를 가지고 UI의 이벤트 및 초기화를 수행한다.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getViewEL</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ... 동적 디스플레이 뷰 영역 반환</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * HTML 컨텐트 생성</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createContentWrapper</span>(<span class="params">html</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> wrap = <span class="built_in">document</span>.createElement(<span class="string">&#x27;DIV&#x27;</span>);</span><br><span class="line">    wrap.innerHTML(html);</span><br><span class="line">    getViewEL().appendChild(wrap);</span><br><span class="line">    <span class="keyword">return</span> wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 이 부분이 핵심.</span></span><br><span class="line"><span class="comment"> * 컨트롤러 속성을 가져와서 해당 컨트롤러 모듈을 로딩한다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadController</span>(<span class="params">wrap</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="keyword">function</span>(<span class="params"> resolve </span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> contentEl = wrap.querySelect(<span class="string">&#x27;[data-controller]&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!contentEl) <span class="keyword">return</span> resolve(contentEl);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> controllerPath = contentEl.dataset.controller</span><br><span class="line">        <span class="keyword">if</span>(!controllerPath) <span class="keyword">return</span> resolve(contentEl);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">require</span>([<span class="string">&#x27;controller/&#x27;</span> + controllerPath], <span class="function"><span class="keyword">function</span>(<span class="params">Controller</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> controller = <span class="keyword">new</span> Controller(contentEl, controllerPath);</span><br><span class="line">            controller.execute();</span><br><span class="line">            resolve(contentEl);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reportError</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...컨트롤러 에러 보고</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...서버에 컨텐트 요청</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadContents</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">    ajax(path)</span><br><span class="line">        .then(wrapContent)</span><br><span class="line">        .then(loadController)</span><br><span class="line">        .catch(reportError)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 새 페이지 요청</span></span><br><span class="line">loadContents(<span class="string">&#x27;/where/are/you&#x27;</span>);</span><br></pre></td></tr></table></figure><p>글을 읽다보면, 이 코드가 나중에 어떻게 바뀌는지 보게 될 것이다.</p><p>실제 코드는 이보다 훨씬 여러 상황을 고려했고, pre, post 등의 Hook 과 Attribute-Auto-Event-Bind 기능이 붙어있지만 뭐 이 글에선 중요한게 아니니</p><h2 id="개별-파일을-일일히-컴파일"><a href="#개별-파일을-일일히-컴파일" class="headerlink" title="개별 파일을 일일히 컴파일"></a>개별 파일을 일일히 컴파일</h2><p>이 상황에서 나는 ES6의 매력에 빠져 Babel 을 사용하여 ES6/React 를 적용하기 시작한다.</p><p>처음에는 Webpack 이 그리 정돈되지도 않았고, 학습이 좀 어려워(라는 핑계로) 개별 파일을 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://facebook.github.io/react/jsx-compiler.html">jsx 컴파일러 (Facebook 에서 제공하던 ES6/React 컴파일러. 지금은 Deprecated 되었다)</a> 를 사용하였다.</p><p>그리고 일일히 파일 하나하나를 트랜스파일하여 js 를 두개를 커밋하였는데, 이 과정에서 일어나는 비효율성은 엄청났지만 마침내 작성된 ES6/React 의 코드의 결과물은 나에게 멋지게만 보였다.</p><p><img src="/asset/mywow.jpg" alt="wow"></p><h3 id="IntelliJ-File-Watcher"><a href="#IntelliJ-File-Watcher" class="headerlink" title="IntelliJ File Watcher!"></a>IntelliJ File Watcher!</h3><p>하지만 매번 커맨드라인으로 일일히 컴파일하는 작업은 고역이었고, 실수라도 컴파일하지 않은 코드를 올리는 순간 클라이언트에서 사용할 수 없는 문법 오류가 속출했다. 실수로 올라간 트랜스파일되지 않은 상태로 ES6 이나 JSX 문법을 사용한 파일을 구동하면 브라우저가 이해하지 못하는 것이었다.</p><p>이런 도중에 팀 동료의 도움을 받아 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.jetbrains.com/help/idea/2017.1/using-file-watchers.html">Intellij 의 File Watcher</a>를 추가하여 코딩과 동시에 Transpiling 되는 기능을 적용했다.</p><p>별도로 커맨드라인을 수행할 필요도, js 파일을 생성할 필요도 없이 jsx 파일만 코딩하면 자동으로 js 파일이 트랜스파일링되어 생기는 점은 너무 편했고, 이내 이 툴로 드디어 production 에 몇몇 기능을 개발하여 적용하게 되었다.</p><p>하지만 이건 불행의 전주곡의 시작이었다.</p><h3 id="괴롭다"><a href="#괴롭다" class="headerlink" title="괴롭다.."></a>괴롭다..</h3><p><img src="/asset/otl.jpg" alt="어째 잘못된 길을 든듯한..."></p><p>한계가 매우 빠르게 느껴졌다.<br>크게는 다음과 같은 것들이 막 앞통수 뒤통수를 서라운드로 타격하기 시작했다.</p><p>그 중 크리티컬 히트를 자주 터뜨리는 녀석들은 다음과 같았다.</p><ul><li>개별 컴파일로 인한 기반 코드가 모든 파일에 삽입. (modules, createClass 등의 유틸성 코드 등)</li><li>OS 및 로컬 Babel, Jsx 컴파일러 버전, Babel 플러그인 설정마다 미묘하게 다른 코드 생성</li><li>컴파일 된 파일을 실수로 Commit 하지 않으면 장애로 연결되는 등의 소스파일 이중관리</li><li>다량의 파일 변경 이력을 pull, checkout 등을 통해 겪을 경우 intellij 가 file watcher 과부하로 intellij 가 수분(심하면 5분이상)정도 멈춤</li></ul><p>이대로는 더이상 개발이 힘들어졌고, 나는 결국 애써 외면하던 외부 Source to Source Compile 도구를 찾게 되었다.</p><h3 id="Webpack-amp-Browserify"><a href="#Webpack-amp-Browserify" class="headerlink" title="Webpack &amp; Browserify"></a>Webpack &amp; Browserify</h3><p>정확히 말하면 Source to Source Compiler 를 사용한 번들 도구 (bundle tool)를 찾았다.</p><p>위의 크리티컬한 이슈를 처리하기 위해서는 어쩔 수 없이 source 전체적인 번들 및 변환이 필요했기 떄문이다.<br>또한 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.jetbrains.com/help/idea/2017.1/using-file-watchers.html">Intellij 의 File Watcher</a> 가 지원하던 개발의 편의성 또한 필요했다</p><p>소스를 고칠때마다 매번 수동으로 컴파일하기는 너무 번거로웠다.</p><p>기본적인 Source to Source Compile 이 동작하고, 번들링 기능에, 가급적 소스를 고칠 때 자동으로 백그라운드에서 시스템이 자동으로 최신 내역을 Compile 하는 Watch 기능은 없어서는 안됐다.</p><p>찾아보니 두개가 있었다.</p><ul><li>Webpack</li><li>Browserify</li></ul><blockquote><p>이 둘 관련으로 좋은 글 하나 링크한다.<br><a target="_blank" rel="external nofollow noopener noreferrer" href="http://blog.namangoel.com/browserify-vs-webpack-js-drama">Browserify VS Webpack - JS Drama</a></p></blockquote><h4 id="Browserify"><a href="#Browserify" class="headerlink" title="Browserify"></a>Browserify</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://browserify.org/">Browserify</a> 는 NPM 생태계의 모듈들을 브라우저에서 사용하는 것을 목표로 하는 도구다.</p><p>코드를 CommonJS 문법으로 작성해두면 npm 의 모듈들을 바로 브라우저 환경에서 돌려볼 수 있고, Watchify, Factor Bundle, deAMDFy 등의 도구로 파일 감시, 멀티 번들, AMD 지원등이 가능하다.</p><p>제일 좋은 점은 아주 적은 설정으로 바로 시작할 수 있다는 점이지만, 다른 Task 도구를 사용하지 않으면 사용이 조금 불편할 수 있어서 추가적인 Task Runner(주로 <a target="_blank" rel="external nofollow noopener noreferrer" href="http://gulpjs.com/">Gulp</a>) 설정이 들어가게 된다.</p><h4 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://webpack.github.io/">Webpack</a> 은 Browserify 와는 다르게, 혼자서 할 수 있는 일이 거의 없다.</p><p>대부분 별도의 loader 라 부르는 모듈과 그 모듈을 적용할 대상을 지정해주는 설정을 같이 요구한다.</p><p>commonjs 를 사용하려면 babel-loader 를 설치하고 설정해야 하며, React 를 사용하려면 babel-loader 의 설정에 react 관련 플러그인의 추가 및 설정이 필요하다.</p><p>다만 webpack 은 정적 리소스까지도 다룰 수 있는 loader 를 제공하며, hot-loading 등의 강력한 기능까지 붙여볼 수 있다.</p><p>별도 Task Runner (gulp 등) 없이 혼자서도 전부 할 수 있는 것도 장점이다.</p><h2 id="인생은-실전"><a href="#인생은-실전" class="headerlink" title="인생은 실전"></a>인생은 실전</h2><p>선택에는 고민자체가 필요없었다.</p><p>NodeJS 모듈을 만들것도 아니고, 정적 파일 관리까지 지원하며 부가적인 기능들이 더욱 막강한 Webpack 으로 정했다.</p><p>먼저 간단한 Webpack 을 학습하기 위해 bolierplate 코드를 받아서 이리저리 변경해보았다.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/geniuscarrier/webpack-boilerplate">boilerplate</a></p><p>역시나 모든 툴들이나 신기술이 그렇듯 hello world 수준의 사용법은 너무나 간단하고 쉬웠다.</p><p>대충 학습을 끝내고 바로 프로젝트에 적용해보기 시작했다.</p><p>예상대로 실제 프로젝트,<br>그리고 이제 어느정도 커져버려서 꽤나 규모가 있는 프로젝트에는 문서대로의 친절함따윈 없었다.</p><p>나는 야생의 아마존을 서성이는 모든게 두려운 새끼 고양이가 된 느낌을 받기 시작했다.</p><p>기존에 사용하던 AMD 툴인 requirejs 를 너무 헤비하게 쓰고 있었던 것이다.</p><p>path 의 정리도 엉망에 controller 의 로딩이 순식간에 전부 작업분으로 남아버렸고, commonjs, amd, es6 모듈은 서로 충돌하기 바빴다.<br>모든게 어우러져 새빨간 컴파일 오류가 작렬했다.</p><p>내용이 길어져 <a href="/2017/05/14/convert-legacy-to-webpack-bundle-2/">2부</a>로 나눈다.</p></div><div class="article-tags"><a class="tag-none-link" href="/tags/handlebars/" rel="tag">Handlebars</a><a class="tag-none-link" href="/tags/javascript/" rel="tag">javascript</a><a class="tag-none-link" href="/tags/webpack/" rel="tag">webpack</a><a class="tag-none-link" href="/tags/%EA%B0%9C%EA%B3%A0%EC%83%9D/" rel="tag">개고생</a></div><section id="comments" class="white-box"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></article><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5bf3f68d0a53e4d6"></script><script>document.getElementById("loading-bar").style.width="60%"</script></main><footer id="footer" class="clearfix"><div>&copy; <a href="https://blog.javarouka.me">NonBlock</a> Theme by <a href="http://artifact.me/" target="_blank" rel="external nofollow noopener noreferrer">Art Chen</a>.</div><div>Powered by <a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer">Hexo</a>.</div></footer><script>document.getElementById("loading-bar").style.width="80%"</script><div class="overlay"></div></aside></div><div class="site-sidebar"><div class="sidebar-switch clearfix show" style="display:block"><a class="dark-btn active" data-toggle="toc"><span class="icon icon-list"></span> <span class="text">Index</span> </a><a class="dark-btn" data-toggle="bio"><span class="icon icon-person"></span> <span class="text">Bio</span></a></div><div class="site-bio" style="display:none"><div class="about-me clearfix"><div class="avatar"><img src="https://avatars2.githubusercontent.com/u/1438503?v=4&s=250"></div><div class="info"><a class="name dark-btn" href="/about">JavaRouka</a></div><div class="info"><span class="item desc">javarouka 의 기술블로그</span></div></div><div class="social clearfix"><a href="/atom.xml" class="feed" target="_blank" rel="external"><span class="icon icon-feed"></span> </a><a href="mailto:javarouka@gmail.com" class="mail" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-mail"></span> </a><a href="https://github.com/javarouka" class="github" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-github"></span> </a><a href="https://www.facebook.com/hanghui.i" class="facebook" target="_blank" rel="external nofollow noopener noreferrer"><span class="icon icon-facebook"></span></a></div><div class="shortcuts clearfix"><div class="bk"><a href="#header" class="dark-btn window-nav"><span class="icon icon-chevron-thin-up"></span> <span class="text">Back to Top</span></a></div><div class="bk"><a href="#footer" class="dark-btn window-nav"><span class="icon icon-chevron-thin-down"></span> <span class="text">Go to Bottom</span></a></div></div></div><div class="site-post-nav show" style="display:block"><div class="site-post-nav-box"><a href="/2017/05/14/convert-legacy-to-webpack-bundle-2/" class="icon icon-chevron-thin-left"><a href="/2017/05/14/convert-legacy-to-webpack-bundle-2/" class="site-post-nav-text">운영되던 서비스, ES5 에서 ES6 으로 옮긴 이야기 2 (feat Webpack)</a></a></div><div class="site-post-nav-box"><a href="/2017/03/18/YouMightNotNeedRedux/" class="site-post-nav-text">넌 Redux 가 필요 없을지도 몰라</a> <a href="/2017/03/18/YouMightNotNeedRedux/" class="icon icon-chevron-thin-right"></a></div></div><div class="site-toc show" style="display:block"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%9D%98-%EC%95%88%EC%A0%95%ED%99%94-%EB%A7%88%EB%AC%B4%EB%A6%AC-%EC%A6%88%EC%9D%8C%EC%9D%98-%EC%9C%84%ED%97%98%ED%95%9C-%EB%A7%8C%EB%82%A8"><span class="toc-number">1.</span> <span class="toc-text">프로젝트의 안정화 마무리 즈음의 위험한 만남</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B8%B0%EC%A1%B4-%EA%B5%AC%EC%A1%B0%EB%8A%94-AMD-Handlebars"><span class="toc-number">2.</span> <span class="toc-text">기존 구조는 AMD + Handlebars</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B0%9C%EB%B3%84-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%9D%BC%EC%9D%BC%ED%9E%88-%EC%BB%B4%ED%8C%8C%EC%9D%BC"><span class="toc-number">3.</span> <span class="toc-text">개별 파일을 일일히 컴파일</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IntelliJ-File-Watcher"><span class="toc-number">3.1.</span> <span class="toc-text">IntelliJ File Watcher!</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EA%B4%B4%EB%A1%AD%EB%8B%A4"><span class="toc-number">3.2.</span> <span class="toc-text">괴롭다..</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Webpack-amp-Browserify"><span class="toc-number">3.3.</span> <span class="toc-text">Webpack &amp; Browserify</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Browserify"><span class="toc-number">3.3.1.</span> <span class="toc-text">Browserify</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Webpack"><span class="toc-number">3.3.2.</span> <span class="toc-text">Webpack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%9D%B8%EC%83%9D%EC%9D%80-%EC%8B%A4%EC%A0%84"><span class="toc-number">4.</span> <span class="toc-text">인생은 실전</span></a></li></ol></div></div><script type="text/javascript">var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo"</script><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.js"><\/script>')</script><script src="/js/search.js"></script><script src="/js/app.js"></script><script type="text/javascript">var disqus_shortname="https-javarouka-github-io",disqus_url="https://blog.javarouka.me/2017/05/03/convert-legacy-to-webpack-bundle-1/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script>document.getElementById("loading-bar").style.width="100%"</script></body></html>